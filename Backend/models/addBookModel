import sqlite3 from 'sqlite3';
import { DATABASE } from '../config'; 

const db = new sqlite3.Database(DATABASE);

class Book {
    static async create(newBook) {
        return new Promise((resolve, reject) => {
            db.run("INSERT INTO books (title, isbn, edition, cost, author_fullname) VALUES (?, ?, ?, ?, ?)", 
                [newBook.title, newBook.isbn, newBook.edition, newBook.cost, newBook.author_fullname],
                (err) => {
                if (err) {
                    reject(err);
                } else {
                    resolve("Book Created"); // Or resolve with the created book object
                }
            });
        }); 
    }
}

module.exports = Book;
 